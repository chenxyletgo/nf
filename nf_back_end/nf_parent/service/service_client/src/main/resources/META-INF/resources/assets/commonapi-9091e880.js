import{ad as oe,ag as xe,aX as ye,aY as Re,aZ as ct,a_ as ze,a$ as Ne,r as M,ak as Fe,an as E,aq as Nt,b0 as Pe,d as j,ai as J,c as m,e as T,f as q,O as Ce,b1 as Pt,u as t,b2 as Xe,n as $,av as W,C as Ze,t as se,at as ae,ay as re,al as me,S as he,b3 as ps,aj as _t,b4 as fs,o as Ye,as as Je,z as Tt,b5 as vs,w as ce,am as Qe,b6 as et,b7 as Lt,b8 as hs,$ as le,b9 as De,ba as Rt,aO as ms,x as ne,h as L,m as U,l as F,k as G,F as be,ah as tt,g as $e,aQ as gs,aa as He,aA as Ke,aD as bs,ae as B,bb as Z,bc as ys,bd as ks,be as Ft,bf as Cs,az as ee,bg as _e,bh as Dt,bi as $s,aH as ws,bj as Es,bk as Ss,bl as Ns,af as It,aC as Ps,ax as pt,aF as st,P as _s,aL as ft,bm as Ts,bn as Vt,bo as Bt,au as Ls,bp as at,bq as Mt,br as qe,a2 as Rs,bs as Fs,Y as Ds,bt as Is,ac as Vs,bu as je,bv as Bs,bw as Ms,bx as Us,aI as Os,aR as As,aK as zs,by as vt,aw as ht,a0 as Ut}from"./index-7043f5d2.js";import{E as Ot,c as mt,i as Se,t as Hs,d as Ks,a as gt,C as qs}from"./el-scrollbar-a3a91b86.js";import{b as js,E as Gs}from"./el-checkbox-99e20c18.js";import{E as Ws,i as xs}from"./el-input-ea2dabc9.js";import{b as Xs}from"./el-form-item-82fe4575.js";var Zs=1,Ys=4;function nt(e){return Xs(e,Zs|Ys)}var Js=1/0;function Qs(e){var s=e==null?0:e.length;return s?js(e,Js):[]}const bt=e=>[...new Set(e)],yt=e=>!e&&e!==0?[]:Array.isArray(e)?e:[e],ea=()=>Math.floor(Math.random()*1e4),At=oe({size:xe,disabled:Boolean,label:{type:[String,Number,Boolean],default:""}}),ta=oe({...At,modelValue:{type:[String,Number,Boolean],default:""},name:{type:String,default:""},border:Boolean}),zt={[ye]:e=>Re(e)||ct(e)||ze(e),[Ne]:e=>Re(e)||ct(e)||ze(e)},Ht=Symbol("radioGroupKey"),Kt=(e,s)=>{const n=M(),a=Fe(Ht,void 0),l=E(()=>!!a),c=E({get(){return l.value?a.modelValue:e.modelValue},set(y){l.value?a.changeEvent(y):s&&s(ye,y),n.value.checked=e.modelValue===e.label}}),r=Nt(E(()=>a==null?void 0:a.size)),g=Pe(E(()=>a==null?void 0:a.disabled)),i=M(!1),f=E(()=>g.value||l.value&&c.value!==e.label?-1:0);return{radioRef:n,isGroup:l,radioGroup:a,focus:i,size:r,disabled:g,tabIndex:f,modelValue:c}},sa=["value","name","disabled"],aa=j({name:"ElRadio"}),na=j({...aa,props:ta,emits:zt,setup(e,{emit:s}){const n=e,a=J("radio"),{radioRef:l,radioGroup:c,focus:r,size:g,disabled:i,modelValue:f}=Kt(n,s);function y(){me(()=>s("change",f.value))}return(v,u)=>{var h;return m(),T("label",{class:$([t(a).b(),t(a).is("disabled",t(i)),t(a).is("focus",t(r)),t(a).is("bordered",v.border),t(a).is("checked",t(f)===v.label),t(a).m(t(g))])},[q("span",{class:$([t(a).e("input"),t(a).is("disabled",t(i)),t(a).is("checked",t(f)===v.label)])},[Ce(q("input",{ref_key:"radioRef",ref:l,"onUpdate:modelValue":u[0]||(u[0]=d=>Xe(f)?f.value=d:null),class:$(t(a).e("original")),value:v.label,name:v.name||((h=t(c))==null?void 0:h.name),disabled:t(i),type:"radio",onFocus:u[1]||(u[1]=d=>r.value=!0),onBlur:u[2]||(u[2]=d=>r.value=!1),onChange:y},null,42,sa),[[Pt,t(f)]]),q("span",{class:$(t(a).e("inner"))},null,2)],2),q("span",{class:$(t(a).e("label")),onKeydown:u[3]||(u[3]=ae(()=>{},["stop"]))},[W(v.$slots,"default",{},()=>[Ze(se(v.label),1)])],34)],2)}}});var la=re(na,[["__file","/home/runner/work/element-plus/element-plus/packages/components/radio/src/radio.vue"]]);const oa=oe({...At,name:{type:String,default:""}}),ra=["value","name","disabled"],ia=j({name:"ElRadioButton"}),ua=j({...ia,props:oa,setup(e){const s=e,n=J("radio"),{radioRef:a,focus:l,size:c,disabled:r,modelValue:g,radioGroup:i}=Kt(s),f=E(()=>({backgroundColor:(i==null?void 0:i.fill)||"",borderColor:(i==null?void 0:i.fill)||"",boxShadow:i!=null&&i.fill?`-1px 0 0 0 ${i.fill}`:"",color:(i==null?void 0:i.textColor)||""}));return(y,v)=>{var u;return m(),T("label",{class:$([t(n).b("button"),t(n).is("active",t(g)===y.label),t(n).is("disabled",t(r)),t(n).is("focus",t(l)),t(n).bm("button",t(c))])},[Ce(q("input",{ref_key:"radioRef",ref:a,"onUpdate:modelValue":v[0]||(v[0]=h=>Xe(g)?g.value=h:null),class:$(t(n).be("button","original-radio")),value:y.label,type:"radio",name:y.name||((u=t(i))==null?void 0:u.name),disabled:t(r),onFocus:v[1]||(v[1]=h=>l.value=!0),onBlur:v[2]||(v[2]=h=>l.value=!1)},null,42,ra),[[Pt,t(g)]]),q("span",{class:$(t(n).be("button","inner")),style:he(t(g)===y.label?t(f):{}),onKeydown:v[3]||(v[3]=ae(()=>{},["stop"]))},[W(y.$slots,"default",{},()=>[Ze(se(y.label),1)])],38)],2)}}});var qt=re(ua,[["__file","/home/runner/work/element-plus/element-plus/packages/components/radio/src/radio-button.vue"]]);const da=oe({id:{type:String,default:void 0},size:xe,disabled:Boolean,modelValue:{type:[String,Number,Boolean],default:""},fill:{type:String,default:""},label:{type:String,default:void 0},textColor:{type:String,default:""},name:{type:String,default:void 0},validateEvent:{type:Boolean,default:!0}}),ca=zt,pa=["id","aria-label","aria-labelledby"],fa=j({name:"ElRadioGroup"}),va=j({...fa,props:da,emits:ca,setup(e,{emit:s}){const n=e,a=J("radio"),l=ps(),c=M(),{formItem:r}=_t(),{inputId:g,isLabeledByFormItem:i}=fs(n,{formItemContext:r}),f=v=>{s(ye,v),me(()=>s("change",v))};Ye(()=>{const v=c.value.querySelectorAll("[type=radio]"),u=v[0];!Array.from(v).some(h=>h.checked)&&u&&(u.tabIndex=0)});const y=E(()=>n.name||l.value);return Je(Ht,Tt({...vs(n),changeEvent:f,name:y})),ce(()=>n.modelValue,()=>{n.validateEvent&&(r==null||r.validate("change").catch(v=>Qe()))}),(v,u)=>(m(),T("div",{id:t(g),ref_key:"radioGroupRef",ref:c,class:$(t(a).b("group")),role:"radiogroup","aria-label":t(i)?void 0:v.label||"radio-group","aria-labelledby":t(i)?t(r).labelId:void 0},[W(v.$slots,"default")],10,pa))}});var jt=re(va,[["__file","/home/runner/work/element-plus/element-plus/packages/components/radio/src/radio-group.vue"]]);const ha=et(la,{RadioButton:qt,RadioGroup:jt}),Bn=Lt(jt);Lt(qt);var ma=j({name:"NodeContent",setup(){return{ns:J("cascader-node")}},render(){const{ns:e}=this,{node:s,panel:n}=this.$parent,{data:a,label:l}=s,{renderLabelFn:c}=n;return hs("span",{class:e.e("label")},c?c({node:s,data:a}):l)}});const lt=Symbol(),ga=j({name:"ElCascaderNode",components:{ElCheckbox:Gs,ElRadio:ha,NodeContent:ma,ElIcon:le,Check:De,Loading:Rt,ArrowRight:ms},props:{node:{type:Object,required:!0},menuId:String},emits:["expand"],setup(e,{emit:s}){const n=Fe(lt),a=J("cascader-node"),l=E(()=>n.isHoverMenu),c=E(()=>n.config.multiple),r=E(()=>n.config.checkStrictly),g=E(()=>{var _;return(_=n.checkedNodes[0])==null?void 0:_.uid}),i=E(()=>e.node.isDisabled),f=E(()=>e.node.isLeaf),y=E(()=>r.value&&!f.value||!i.value),v=E(()=>h(n.expandingNode)),u=E(()=>r.value&&n.checkedNodes.some(h)),h=_=>{var V;const{level:x,uid:pe}=e.node;return((V=_==null?void 0:_.pathNodes[x-1])==null?void 0:V.uid)===pe},d=()=>{v.value||n.expandNode(e.node)},N=_=>{const{node:V}=e;_!==V.checked&&n.handleCheckChange(V,_)},S=()=>{n.lazyLoad(e.node,()=>{f.value||d()})},k=_=>{l.value&&(D(),!f.value&&s("expand",_))},D=()=>{const{node:_}=e;!y.value||_.loading||(_.loaded?d():S())},b=()=>{l.value&&!f.value||(f.value&&!i.value&&!r.value&&!c.value?H(!0):D())},I=_=>{r.value?(N(_),e.node.loaded&&d()):H(_)},H=_=>{e.node.loaded?(N(_),!r.value&&d()):S()};return{panel:n,isHoverMenu:l,multiple:c,checkStrictly:r,checkedNodeId:g,isDisabled:i,isLeaf:f,expandable:y,inExpandingPath:v,inCheckedPath:u,ns:a,handleHoverExpand:k,handleExpand:D,handleClick:b,handleCheck:H,handleSelectCheck:I}}}),ba=["id","aria-haspopup","aria-owns","aria-expanded","tabindex"],ya=q("span",null,null,-1);function ka(e,s,n,a,l,c){const r=ne("el-checkbox"),g=ne("el-radio"),i=ne("check"),f=ne("el-icon"),y=ne("node-content"),v=ne("loading"),u=ne("arrow-right");return m(),T("li",{id:`${e.menuId}-${e.node.uid}`,role:"menuitem","aria-haspopup":!e.isLeaf,"aria-owns":e.isLeaf?null:e.menuId,"aria-expanded":e.inExpandingPath,tabindex:e.expandable?-1:void 0,class:$([e.ns.b(),e.ns.is("selectable",e.checkStrictly),e.ns.is("active",e.node.checked),e.ns.is("disabled",!e.expandable),e.inExpandingPath&&"in-active-path",e.inCheckedPath&&"in-checked-path"]),onMouseenter:s[2]||(s[2]=(...h)=>e.handleHoverExpand&&e.handleHoverExpand(...h)),onFocus:s[3]||(s[3]=(...h)=>e.handleHoverExpand&&e.handleHoverExpand(...h)),onClick:s[4]||(s[4]=(...h)=>e.handleClick&&e.handleClick(...h))},[L(" prefix "),e.multiple?(m(),U(r,{key:0,"model-value":e.node.checked,indeterminate:e.node.indeterminate,disabled:e.isDisabled,onClick:s[0]||(s[0]=ae(()=>{},["stop"])),"onUpdate:modelValue":e.handleSelectCheck},null,8,["model-value","indeterminate","disabled","onUpdate:modelValue"])):e.checkStrictly?(m(),U(g,{key:1,"model-value":e.checkedNodeId,label:e.node.uid,disabled:e.isDisabled,"onUpdate:modelValue":e.handleSelectCheck,onClick:s[1]||(s[1]=ae(()=>{},["stop"]))},{default:F(()=>[L(`
        Add an empty element to avoid render label,
        do not use empty fragment here for https://github.com/vuejs/vue-next/pull/2485
      `),ya]),_:1},8,["model-value","label","disabled","onUpdate:modelValue"])):e.isLeaf&&e.node.checked?(m(),U(f,{key:2,class:$(e.ns.e("prefix"))},{default:F(()=>[G(i)]),_:1},8,["class"])):L("v-if",!0),L(" content "),G(y),L(" postfix "),e.isLeaf?L("v-if",!0):(m(),T(be,{key:3},[e.node.loading?(m(),U(f,{key:0,class:$([e.ns.is("loading"),e.ns.e("postfix")])},{default:F(()=>[G(v)]),_:1},8,["class"])):(m(),U(f,{key:1,class:$(["arrow-right",e.ns.e("postfix")])},{default:F(()=>[G(u)]),_:1},8,["class"]))],64))],42,ba)}var Ca=re(ga,[["render",ka],["__file","/home/runner/work/element-plus/element-plus/packages/components/cascader-panel/src/node.vue"]]);const $a=j({name:"ElCascaderMenu",components:{Loading:Rt,ElIcon:le,ElScrollbar:Ot,ElCascaderNode:Ca},props:{nodes:{type:Array,required:!0},index:{type:Number,required:!0}},setup(e){const s=gs(),n=J("cascader-menu"),{t:a}=tt(),l=ea();let c=null,r=null;const g=Fe(lt),i=M(null),f=E(()=>!e.nodes.length),y=E(()=>!g.initialLoaded),v=E(()=>`cascader-menu-${l}-${e.index}`),u=S=>{c=S.target},h=S=>{if(!(!g.isHoverMenu||!c||!i.value))if(c.contains(S.target)){d();const k=s.vnode.el,{left:D}=k.getBoundingClientRect(),{offsetWidth:b,offsetHeight:I}=k,H=S.clientX-D,_=c.offsetTop,V=_+c.offsetHeight;i.value.innerHTML=`
          <path style="pointer-events: auto;" fill="transparent" d="M${H} ${_} L${b} 0 V${_} Z" />
          <path style="pointer-events: auto;" fill="transparent" d="M${H} ${V} L${b} ${I} V${V} Z" />
        `}else r||(r=window.setTimeout(N,g.config.hoverThreshold))},d=()=>{r&&(clearTimeout(r),r=null)},N=()=>{i.value&&(i.value.innerHTML="",d())};return{ns:n,panel:g,hoverZone:i,isEmpty:f,isLoading:y,menuId:v,t:a,handleExpand:u,handleMouseMove:h,clearHoverZone:N}}});function wa(e,s,n,a,l,c){const r=ne("el-cascader-node"),g=ne("loading"),i=ne("el-icon"),f=ne("el-scrollbar");return m(),U(f,{key:e.menuId,tag:"ul",role:"menu",class:$(e.ns.b()),"wrap-class":e.ns.e("wrap"),"view-class":[e.ns.e("list"),e.ns.is("empty",e.isEmpty)],onMousemove:e.handleMouseMove,onMouseleave:e.clearHoverZone},{default:F(()=>{var y;return[(m(!0),T(be,null,$e(e.nodes,v=>(m(),U(r,{key:v.uid,node:v,"menu-id":e.menuId,onExpand:e.handleExpand},null,8,["node","menu-id","onExpand"]))),128)),e.isLoading?(m(),T("div",{key:0,class:$(e.ns.e("empty-text"))},[G(i,{size:"14",class:$(e.ns.is("loading"))},{default:F(()=>[G(g)]),_:1},8,["class"]),Ze(" "+se(e.t("el.cascader.loading")),1)],2)):e.isEmpty?(m(),T("div",{key:1,class:$(e.ns.e("empty-text"))},se(e.t("el.cascader.noData")),3)):(y=e.panel)!=null&&y.isHoverMenu?(m(),T("svg",{key:2,ref:"hoverZone",class:$(e.ns.e("hover-zone"))},null,2)):L("v-if",!0)]}),_:1},8,["class","wrap-class","view-class","onMousemove","onMouseleave"])}var Ea=re($a,[["render",wa],["__file","/home/runner/work/element-plus/element-plus/packages/components/cascader-panel/src/menu.vue"]]);let Sa=0;const Na=e=>{const s=[e];let{parent:n}=e;for(;n;)s.unshift(n),n=n.parent;return s};class we{constructor(s,n,a,l=!1){this.data=s,this.config=n,this.parent=a,this.root=l,this.uid=Sa++,this.checked=!1,this.indeterminate=!1,this.loading=!1;const{value:c,label:r,children:g}=n,i=s[g],f=Na(this);this.level=l?0:a?a.level+1:1,this.value=s[c],this.label=s[r],this.pathNodes=f,this.pathValues=f.map(y=>y.value),this.pathLabels=f.map(y=>y.label),this.childrenData=i,this.children=(i||[]).map(y=>new we(y,n,this)),this.loaded=!n.lazy||this.isLeaf||!He(i)}get isDisabled(){const{data:s,parent:n,config:a}=this,{disabled:l,checkStrictly:c}=a;return(Ke(l)?l(s,this):!!s[l])||!c&&(n==null?void 0:n.isDisabled)}get isLeaf(){const{data:s,config:n,childrenData:a,loaded:l}=this,{lazy:c,leaf:r}=n,g=Ke(r)?r(s,this):s[r];return bs(g)?c&&!l?!1:!(Array.isArray(a)&&a.length):!!g}get valueByOption(){return this.config.emitPath?this.pathValues:this.value}appendChild(s){const{childrenData:n,children:a}=this,l=new we(s,this.config,this);return Array.isArray(n)?n.push(s):this.childrenData=[s],a.push(l),l}calcText(s,n){const a=s?this.pathLabels.join(n):this.label;return this.text=a,a}broadcast(s,...n){const a=`onParent${mt(s)}`;this.children.forEach(l=>{l&&(l.broadcast(s,...n),l[a]&&l[a](...n))})}emit(s,...n){const{parent:a}=this,l=`onChild${mt(s)}`;a&&(a[l]&&a[l](...n),a.emit(s,...n))}onParentCheck(s){this.isDisabled||this.setCheckState(s)}onChildCheck(){const{children:s}=this,n=s.filter(l=>!l.isDisabled),a=n.length?n.every(l=>l.checked):!1;this.setCheckState(a)}setCheckState(s){const n=this.children.length,a=this.children.reduce((l,c)=>{const r=c.checked?1:c.indeterminate?.5:0;return l+r},0);this.checked=this.loaded&&this.children.filter(l=>!l.isDisabled).every(l=>l.loaded&&l.checked)&&s,this.indeterminate=this.loaded&&a!==n&&a>0}doCheck(s){if(this.checked===s)return;const{checkStrictly:n,multiple:a}=this.config;n||!a?this.checked=s:(this.broadcast("check",s),this.setCheckState(s),this.emit("check"))}}const Ge=(e,s)=>e.reduce((n,a)=>(a.isLeaf?n.push(a):(!s&&n.push(a),n=n.concat(Ge(a.children,s))),n),[]);class kt{constructor(s,n){this.config=n;const a=(s||[]).map(l=>new we(l,this.config));this.nodes=a,this.allNodes=Ge(a,!1),this.leafNodes=Ge(a,!0)}getNodes(){return this.nodes}getFlattedNodes(s){return s?this.leafNodes:this.allNodes}appendNode(s,n){const a=n?n.appendChild(s):new we(s,this.config);n||this.nodes.push(a),this.allNodes.push(a),a.isLeaf&&this.leafNodes.push(a)}appendNodes(s,n){s.forEach(a=>this.appendNode(a,n))}getNodeByValue(s,n=!1){return!s&&s!==0?null:this.getFlattedNodes(n).find(l=>Se(l.value,s)||Se(l.pathValues,s))||null}getSameNode(s){return s&&this.getFlattedNodes(!1).find(({value:a,level:l})=>Se(s.value,a)&&s.level===l)||null}}const Gt=oe({modelValue:{type:B([Number,String,Array])},options:{type:B(Array),default:()=>[]},props:{type:B(Object),default:()=>({})}}),Pa={expandTrigger:"click",multiple:!1,checkStrictly:!1,emitPath:!0,lazy:!1,lazyLoad:Z,value:"value",label:"label",children:"children",leaf:"leaf",disabled:"disabled",hoverThreshold:500},_a=e=>E(()=>({...Pa,...e.props})),Ct=e=>{if(!e)return 0;const s=e.id.split("-");return Number(s[s.length-2])},Ta=e=>{if(!e)return;const s=e.querySelector("input");s?s.click():ys(e)&&e.click()},La=(e,s)=>{const n=s.slice(0),a=n.map(c=>c.uid),l=e.reduce((c,r)=>{const g=a.indexOf(r.uid);return g>-1&&(c.push(r),n.splice(g,1),a.splice(g,1)),c},[]);return l.push(...n),l},Ra=j({name:"ElCascaderPanel",components:{ElCascaderMenu:Ea},props:{...Gt,border:{type:Boolean,default:!0},renderLabel:Function},emits:[ye,Ne,"close","expand-change"],setup(e,{emit:s,slots:n}){let a=!1;const l=J("cascader"),c=_a(e);let r=null;const g=M(!0),i=M([]),f=M(null),y=M([]),v=M(null),u=M([]),h=E(()=>c.value.expandTrigger==="hover"),d=E(()=>e.renderLabel||n.default),N=()=>{const{options:w}=e,P=c.value;a=!1,r=new kt(w,P),y.value=[r.getNodes()],P.lazy&&He(e.options)?(g.value=!1,S(void 0,R=>{R&&(r=new kt(R,P),y.value=[r.getNodes()]),g.value=!0,x(!1,!0)})):x(!1,!0)},S=(w,P)=>{const R=c.value;w=w||new we({},R,void 0,!0),w.loading=!0;const z=O=>{const K=w,X=K.root?null:K;O&&(r==null||r.appendNodes(O,X)),K.loading=!1,K.loaded=!0,K.childrenData=K.childrenData||[],P&&P(O)};R.lazyLoad(w,z)},k=(w,P)=>{var R;const{level:z}=w,O=y.value.slice(0,z);let K;w.isLeaf?K=w.pathNodes[z-2]:(K=w,O.push(w.children)),((R=v.value)==null?void 0:R.uid)!==(K==null?void 0:K.uid)&&(v.value=w,y.value=O,!P&&s("expand-change",(w==null?void 0:w.pathValues)||[]))},D=(w,P,R=!0)=>{const{checkStrictly:z,multiple:O}=c.value,K=u.value[0];a=!0,!O&&(K==null||K.doCheck(!1)),w.doCheck(P),V(),R&&!O&&!z&&s("close"),!R&&!O&&!z&&b(w)},b=w=>{w&&(w=w.parent,b(w),w&&k(w))},I=w=>r==null?void 0:r.getFlattedNodes(w),H=w=>{var P;return(P=I(w))==null?void 0:P.filter(R=>R.checked!==!1)},_=()=>{u.value.forEach(w=>w.doCheck(!1)),V(),y.value=y.value.slice(0,1),v.value=null,s("expand-change",[])},V=()=>{var w;const{checkStrictly:P,multiple:R}=c.value,z=u.value,O=H(!P),K=La(z,O),X=K.map(Y=>Y.valueByOption);u.value=K,f.value=R?X:(w=X[0])!=null?w:null},x=(w=!1,P=!1)=>{const{modelValue:R}=e,{lazy:z,multiple:O,checkStrictly:K}=c.value,X=!K;if(!(!g.value||a||!P&&Se(R,f.value)))if(z&&!w){const ge=bt(Qs(yt(R))).map(Q=>r==null?void 0:r.getNodeByValue(Q)).filter(Q=>!!Q&&!Q.loaded&&!Q.loading);ge.length?ge.forEach(Q=>{S(Q,()=>x(!1,P))}):x(!0,P)}else{const Y=O?yt(R):[R],ge=bt(Y.map(Q=>r==null?void 0:r.getNodeByValue(Q,X)));pe(ge,P),f.value=nt(R)}},pe=(w,P=!0)=>{const{checkStrictly:R}=c.value,z=u.value,O=w.filter(Y=>!!Y&&(R||Y.isLeaf)),K=r==null?void 0:r.getSameNode(v.value),X=P&&K||O[0];X?X.pathNodes.forEach(Y=>k(Y,!0)):v.value=null,z.forEach(Y=>Y.doCheck(!1)),O.forEach(Y=>Y.doCheck(!0)),u.value=O,me(ue)},ue=()=>{Ft&&i.value.forEach(w=>{const P=w==null?void 0:w.$el;if(P){const R=P.querySelector(`.${l.namespace.value}-scrollbar__wrap`),z=P.querySelector(`.${l.b("node")}.${l.is("active")}`)||P.querySelector(`.${l.b("node")}.in-active-path`);Cs(R,z)}})},de=w=>{const P=w.target,{code:R}=w;switch(R){case ee.up:case ee.down:{w.preventDefault();const z=R===ee.up?-1:1;_e(Dt(P,z,`.${l.b("node")}[tabindex="-1"]`));break}case ee.left:{w.preventDefault();const z=i.value[Ct(P)-1],O=z==null?void 0:z.$el.querySelector(`.${l.b("node")}[aria-expanded="true"]`);_e(O);break}case ee.right:{w.preventDefault();const z=i.value[Ct(P)+1],O=z==null?void 0:z.$el.querySelector(`.${l.b("node")}[tabindex="-1"]`);_e(O);break}case ee.enter:Ta(P);break}};return Je(lt,Tt({config:c,expandingNode:v,checkedNodes:u,isHoverMenu:h,initialLoaded:g,renderLabelFn:d,lazyLoad:S,expandNode:k,handleCheckChange:D})),ce([c,()=>e.options],N,{deep:!0,immediate:!0}),ce(()=>e.modelValue,()=>{a=!1,x()},{deep:!0}),ce(()=>f.value,w=>{Se(w,e.modelValue)||(s(ye,w),s(Ne,w))}),ks(()=>i.value=[]),Ye(()=>!He(e.modelValue)&&x()),{ns:l,menuList:i,menus:y,checkedNodes:u,handleKeyDown:de,handleCheckChange:D,getFlattedNodes:I,getCheckedNodes:H,clearCheckedNodes:_,calculateCheckedValue:V,scrollToExpandingNode:ue}}});function Fa(e,s,n,a,l,c){const r=ne("el-cascader-menu");return m(),T("div",{class:$([e.ns.b("panel"),e.ns.is("bordered",e.border)]),onKeydown:s[0]||(s[0]=(...g)=>e.handleKeyDown&&e.handleKeyDown(...g))},[(m(!0),T(be,null,$e(e.menus,(g,i)=>(m(),U(r,{key:i,ref_for:!0,ref:f=>e.menuList[i]=f,index:i,nodes:[...g]},null,8,["index","nodes"]))),128))],34)}var Te=re(Ra,[["render",Fa],["__file","/home/runner/work/element-plus/element-plus/packages/components/cascader-panel/src/index.vue"]]);Te.install=e=>{e.component(Te.name,Te)};const Da=Te,Ia=oe({...Gt,size:xe,placeholder:String,disabled:Boolean,clearable:Boolean,filterable:Boolean,filterMethod:{type:B(Function),default:(e,s)=>e.text.includes(s)},separator:{type:String,default:" / "},showAllLevels:{type:Boolean,default:!0},collapseTags:Boolean,collapseTagsTooltip:{type:Boolean,default:!1},debounce:{type:Number,default:300},beforeFilter:{type:B(Function),default:()=>!0},popperClass:{type:String,default:""},teleported:$s.teleported,tagType:{...Hs.type,default:"info"},validateEvent:{type:Boolean,default:!0}}),Va={[ye]:e=>!!e||e===null,[Ne]:e=>!!e||e===null,focus:e=>e instanceof FocusEvent,blur:e=>e instanceof FocusEvent,visibleChange:e=>ze(e),expandChange:e=>!!e,removeTag:e=>!!e},Ba={key:0},Ma=["placeholder","onKeydown"],Ua=["onClick"],Oa="ElCascader",Aa=j({name:Oa}),za=j({...Aa,props:Ia,emits:Va,setup(e,{expose:s,emit:n}){const a=e,l={modifiers:[{name:"arrowPosition",enabled:!0,phase:"main",fn:({state:o})=>{const{modifiersData:p,placement:C}=o;["right","left","bottom","top"].includes(C)||(p.arrow.x=35)},requires:["arrow"]}]},c=ws();let r=0,g=0;const i=J("cascader"),f=J("input"),{t:y}=tt(),{form:v,formItem:u}=_t(),h=M(null),d=M(null),N=M(null),S=M(null),k=M(null),D=M(!1),b=M(!1),I=M(!1),H=M(!1),_=M(""),V=M(""),x=M([]),pe=M([]),ue=M([]),de=M(!1),w=E(()=>c.style),P=E(()=>a.disabled||(v==null?void 0:v.disabled)),R=E(()=>a.placeholder||y("el.cascader.placeholder")),z=E(()=>V.value||x.value.length>0||de.value?"":R.value),O=Nt(),K=E(()=>["small"].includes(O.value)?"small":"default"),X=E(()=>!!a.props.multiple),Y=E(()=>!a.filterable||X.value),ge=E(()=>X.value?V.value:_.value),Q=E(()=>{var o;return((o=S.value)==null?void 0:o.checkedNodes)||[]}),Jt=E(()=>!a.clearable||P.value||I.value||!b.value?!1:!!Q.value.length),Ie=E(()=>{const{showAllLevels:o,separator:p}=a,C=Q.value;return C.length?X.value?"":C[0].calcText(o,p):""}),Ve=E({get(){return nt(a.modelValue)},set(o){n(ye,o),n(Ne,o),a.validateEvent&&(u==null||u.validate("change").catch(p=>Qe()))}}),Qt=E(()=>[i.b(),i.m(O.value),i.is("disabled",P.value),c.class]),es=E(()=>[f.e("icon"),"icon-arrow-down",i.is("reverse",D.value)]),ts=E(()=>i.is("focus",D.value||H.value)),ot=E(()=>{var o,p;return(p=(o=h.value)==null?void 0:o.popperRef)==null?void 0:p.contentRef}),te=o=>{var p,C,A;P.value||(o=o??!D.value,o!==D.value&&(D.value=o,(C=(p=d.value)==null?void 0:p.input)==null||C.setAttribute("aria-expanded",`${o}`),o?(Ee(),me((A=S.value)==null?void 0:A.scrollToExpandingNode)):a.filterable&&Oe(),n("visibleChange",o)))},Ee=()=>{me(()=>{var o;(o=h.value)==null||o.updatePopper()})},Be=()=>{I.value=!1},Me=o=>{const{showAllLevels:p,separator:C}=a;return{node:o,key:o.uid,text:o.calcText(p,C),hitState:!1,closable:!P.value&&!o.isDisabled,isCollapseTag:!1}},Ue=o=>{var p;const C=o.node;C.doCheck(!1),(p=S.value)==null||p.calculateCheckedValue(),n("removeTag",C.valueByOption)},ss=()=>{if(!X.value)return;const o=Q.value,p=[],C=[];if(o.forEach(A=>C.push(Me(A))),pe.value=C,o.length){const[A,...fe]=o,ve=fe.length;p.push(Me(A)),ve&&(a.collapseTags?p.push({key:-1,text:`+ ${ve}`,closable:!1,isCollapseTag:!0}):fe.forEach(ie=>p.push(Me(ie))))}x.value=p},rt=()=>{var o,p;const{filterMethod:C,showAllLevels:A,separator:fe}=a,ve=(p=(o=S.value)==null?void 0:o.getFlattedNodes(!a.props.checkStrictly))==null?void 0:p.filter(ie=>ie.isDisabled?!1:(ie.calcText(A,fe),C(ie,ge.value)));X.value&&(x.value.forEach(ie=>{ie.hitState=!1}),pe.value.forEach(ie=>{ie.hitState=!1})),I.value=!0,ue.value=ve,Ee()},as=()=>{var o;let p;I.value&&k.value?p=k.value.$el.querySelector(`.${i.e("suggestion-item")}`):p=(o=S.value)==null?void 0:o.$el.querySelector(`.${i.b("node")}[tabindex="-1"]`),p&&(p.focus(),!I.value&&p.click())},it=()=>{var o,p;const C=(o=d.value)==null?void 0:o.input,A=N.value,fe=(p=k.value)==null?void 0:p.$el;if(!(!Ft||!C)){if(fe){const ve=fe.querySelector(`.${i.e("suggestion-list")}`);ve.style.minWidth=`${C.offsetWidth}px`}if(A){const{offsetHeight:ve}=A,ie=x.value.length>0?`${Math.max(ve+6,r)}px`:`${r}px`;C.style.height=ie,Ee()}}},ns=o=>{var p;return(p=S.value)==null?void 0:p.getCheckedNodes(o)},ls=o=>{Ee(),n("expandChange",o)},ke=o=>{var p;const C=(p=o.target)==null?void 0:p.value;if(o.type==="compositionend")de.value=!1,me(()=>Ae(C));else{const A=C[C.length-1]||"";de.value=!xs(A)}},os=o=>{if(!de.value)switch(o.code){case ee.enter:te();break;case ee.down:te(!0),me(as),o.preventDefault();break;case ee.esc:D.value===!0&&(o.preventDefault(),o.stopPropagation(),te(!1));break;case ee.tab:te(!1);break}},rs=()=>{var o;(o=S.value)==null||o.clearCheckedNodes(),!D.value&&a.filterable&&Oe(),te(!1)},Oe=()=>{const{value:o}=Ie;_.value=o,V.value=o},is=o=>{var p,C;const{checked:A}=o;X.value?(p=S.value)==null||p.handleCheckChange(o,!A,!1):(!A&&((C=S.value)==null||C.handleCheckChange(o,!0,!1)),te(!1))},us=o=>{const p=o.target,{code:C}=o;switch(C){case ee.up:case ee.down:{const A=C===ee.up?-1:1;_e(Dt(p,A,`.${i.e("suggestion-item")}[tabindex="-1"]`));break}case ee.enter:p.click();break}},ds=()=>{const o=x.value,p=o[o.length-1];g=V.value?0:g+1,!(!p||!g||a.collapseTags&&o.length>1)&&(p.hitState?Ue(p):p.hitState=!0)},ut=o=>{const p=o.target,C=i.e("search-input");p.className===C&&(H.value=!0),n("focus",o)},dt=o=>{H.value=!1,n("blur",o)},cs=Ks(()=>{const{value:o}=ge;if(!o)return;const p=a.beforeFilter(o);Es(p)?p.then(rt).catch(()=>{}):p!==!1?rt():Be()},a.debounce),Ae=(o,p)=>{!D.value&&te(!0),!(p!=null&&p.isComposing)&&(o?cs():Be())};return ce(I,Ee),ce([Q,P],ss),ce(x,()=>{me(()=>it())}),ce(Ie,Oe,{immediate:!0}),Ye(()=>{const o=d.value.input,p=Number.parseFloat(Ss(f.cssVarName("input-height"),o).value)-2;r=o.offsetHeight||p,Ns(o,it)}),s({getCheckedNodes:ns,cascaderPanelRef:S,togglePopperVisible:te,contentRef:ot}),(o,p)=>(m(),U(t(pt),{ref_key:"tooltipRef",ref:h,visible:D.value,teleported:o.teleported,"popper-class":[t(i).e("dropdown"),o.popperClass],"popper-options":l,"fallback-placements":["bottom-start","bottom","top-start","top","right","left"],"stop-popper-mouse-event":!1,"gpu-acceleration":!1,placement:"bottom-start",transition:`${t(i).namespace.value}-zoom-in-top`,effect:"light",pure:"",persistent:"",onHide:Be},{default:F(()=>[Ce((m(),T("div",{class:$(t(Qt)),style:he(t(w)),onClick:p[5]||(p[5]=()=>te(t(Y)?void 0:!0)),onKeydown:os,onMouseenter:p[6]||(p[6]=C=>b.value=!0),onMouseleave:p[7]||(p[7]=C=>b.value=!1)},[G(t(Ws),{ref_key:"input",ref:d,modelValue:_.value,"onUpdate:modelValue":p[1]||(p[1]=C=>_.value=C),placeholder:t(z),readonly:t(Y),disabled:t(P),"validate-event":!1,size:t(O),class:$(t(ts)),tabindex:t(X)&&o.filterable&&!t(P)?-1:void 0,onCompositionstart:ke,onCompositionupdate:ke,onCompositionend:ke,onFocus:ut,onBlur:dt,onInput:Ae},{suffix:F(()=>[t(Jt)?(m(),U(t(le),{key:"clear",class:$([t(f).e("icon"),"icon-circle-close"]),onClick:ae(rs,["stop"])},{default:F(()=>[G(t(It))]),_:1},8,["class","onClick"])):(m(),U(t(le),{key:"arrow-down",class:$(t(es)),onClick:p[0]||(p[0]=ae(C=>te(),["stop"]))},{default:F(()=>[G(t(Ps))]),_:1},8,["class"]))]),_:1},8,["modelValue","placeholder","readonly","disabled","size","class","tabindex"]),t(X)?(m(),T("div",{key:0,ref_key:"tagWrapper",ref:N,class:$(t(i).e("tags"))},[(m(!0),T(be,null,$e(x.value,C=>(m(),U(t(gt),{key:C.key,type:o.tagType,size:t(K),hit:C.hitState,closable:C.closable,"disable-transitions":"",onClose:A=>Ue(C)},{default:F(()=>[C.isCollapseTag===!1?(m(),T("span",Ba,se(C.text),1)):(m(),U(t(pt),{key:1,disabled:D.value||!o.collapseTagsTooltip,"fallback-placements":["bottom","top","right","left"],placement:"bottom",effect:"light"},{default:F(()=>[q("span",null,se(C.text),1)]),content:F(()=>[q("div",{class:$(t(i).e("collapse-tags"))},[(m(!0),T(be,null,$e(pe.value.slice(1),(A,fe)=>(m(),T("div",{key:fe,class:$(t(i).e("collapse-tag"))},[(m(),U(t(gt),{key:A.key,class:"in-tooltip",type:o.tagType,size:t(K),hit:A.hitState,closable:A.closable,"disable-transitions":"",onClose:ve=>Ue(A)},{default:F(()=>[q("span",null,se(A.text),1)]),_:2},1032,["type","size","hit","closable","onClose"]))],2))),128))],2)]),_:2},1032,["disabled"]))]),_:2},1032,["type","size","hit","closable","onClose"]))),128)),o.filterable&&!t(P)?Ce((m(),T("input",{key:0,"onUpdate:modelValue":p[2]||(p[2]=C=>V.value=C),type:"text",class:$(t(i).e("search-input")),placeholder:t(Ie)?"":t(R),onInput:p[3]||(p[3]=C=>Ae(V.value,C)),onClick:p[4]||(p[4]=ae(C=>te(!0),["stop"])),onKeydown:st(ds,["delete"]),onCompositionstart:ke,onCompositionupdate:ke,onCompositionend:ke,onFocus:ut,onBlur:dt},null,42,Ma)),[[_s,V.value]]):L("v-if",!0)],2)):L("v-if",!0)],38)),[[t(qs),()=>te(!1),t(ot)]])]),content:F(()=>[Ce(G(t(Da),{ref_key:"cascaderPanelRef",ref:S,modelValue:t(Ve),"onUpdate:modelValue":p[8]||(p[8]=C=>Xe(Ve)?Ve.value=C:null),options:o.options,props:a.props,border:!1,"render-label":o.$slots.default,onExpandChange:ls,onClose:p[9]||(p[9]=C=>o.$nextTick(()=>te(!1)))},null,8,["modelValue","options","props","render-label"]),[[ft,!I.value]]),o.filterable?Ce((m(),U(t(Ot),{key:0,ref_key:"suggestionPanel",ref:k,tag:"ul",class:$(t(i).e("suggestion-panel")),"view-class":t(i).e("suggestion-list"),onKeydown:us},{default:F(()=>[ue.value.length?(m(!0),T(be,{key:0},$e(ue.value,C=>(m(),T("li",{key:C.uid,class:$([t(i).e("suggestion-item"),t(i).is("checked",C.checked)]),tabindex:-1,onClick:A=>is(C)},[q("span",null,se(C.text),1),C.checked?(m(),U(t(le),{key:0},{default:F(()=>[G(t(De))]),_:1})):L("v-if",!0)],10,Ua))),128)):W(o.$slots,"empty",{key:1},()=>[q("li",{class:$(t(i).e("empty-text"))},se(t(y)("el.cascader.noMatch")),3)])]),_:3},8,["class","view-class"])),[[ft,I.value]]):L("v-if",!0)]),_:3},8,["visible","teleported","popper-class","transition"]))}});var Le=re(za,[["__file","/home/runner/work/element-plus/element-plus/packages/components/cascader/src/cascader.vue"]]);Le.install=e=>{e.component(Le.name,Le)};const Ha=Le,Mn=Ha,Ka=oe({type:{type:String,default:"line",values:["line","circle","dashboard"]},percentage:{type:Number,default:0,validator:e=>e>=0&&e<=100},status:{type:String,default:"",values:["","success","exception","warning"]},indeterminate:{type:Boolean,default:!1},duration:{type:Number,default:3},strokeWidth:{type:Number,default:6},strokeLinecap:{type:B(String),default:"round"},textInside:{type:Boolean,default:!1},width:{type:Number,default:126},showText:{type:Boolean,default:!0},color:{type:B([String,Array,Function]),default:""},format:{type:B(Function),default:e=>`${e}%`}}),qa=["aria-valuenow"],ja={viewBox:"0 0 100 100"},Ga=["d","stroke","stroke-width"],Wa=["d","stroke","opacity","stroke-linecap","stroke-width"],xa={key:0},Xa=j({name:"ElProgress"}),Za=j({...Xa,props:Ka,setup(e){const s=e,n={success:"#13ce66",exception:"#ff4949",warning:"#e6a23c",default:"#20a0ff"},a=J("progress"),l=E(()=>({width:`${s.percentage}%`,animationDuration:`${s.duration}s`,backgroundColor:D(s.percentage)})),c=E(()=>(s.strokeWidth/s.width*100).toFixed(1)),r=E(()=>["circle","dashboard"].includes(s.type)?Number.parseInt(`${50-Number.parseFloat(c.value)/2}`,10):0),g=E(()=>{const b=r.value,I=s.type==="dashboard";return`
          M 50 50
          m 0 ${I?"":"-"}${b}
          a ${b} ${b} 0 1 1 0 ${I?"-":""}${b*2}
          a ${b} ${b} 0 1 1 0 ${I?"":"-"}${b*2}
          `}),i=E(()=>2*Math.PI*r.value),f=E(()=>s.type==="dashboard"?.75:1),y=E(()=>`${-1*i.value*(1-f.value)/2}px`),v=E(()=>({strokeDasharray:`${i.value*f.value}px, ${i.value}px`,strokeDashoffset:y.value})),u=E(()=>({strokeDasharray:`${i.value*f.value*(s.percentage/100)}px, ${i.value}px`,strokeDashoffset:y.value,transition:"stroke-dasharray 0.6s ease 0s, stroke 0.6s ease, opacity ease 0.6s"})),h=E(()=>{let b;return s.color?b=D(s.percentage):b=n[s.status]||n.default,b}),d=E(()=>s.status==="warning"?Ts:s.type==="line"?s.status==="success"?Vt:It:s.status==="success"?De:Bt),N=E(()=>s.type==="line"?12+s.strokeWidth*.4:s.width*.111111+2),S=E(()=>s.format(s.percentage));function k(b){const I=100/b.length;return b.map((_,V)=>Re(_)?{color:_,percentage:(V+1)*I}:_).sort((_,V)=>_.percentage-V.percentage)}const D=b=>{var I;const{color:H}=s;if(Ke(H))return H(b);if(Re(H))return H;{const _=k(H);for(const V of _)if(V.percentage>b)return V.color;return(I=_[_.length-1])==null?void 0:I.color}};return(b,I)=>(m(),T("div",{class:$([t(a).b(),t(a).m(b.type),t(a).is(b.status),{[t(a).m("without-text")]:!b.showText,[t(a).m("text-inside")]:b.textInside}]),role:"progressbar","aria-valuenow":b.percentage,"aria-valuemin":"0","aria-valuemax":"100"},[b.type==="line"?(m(),T("div",{key:0,class:$(t(a).b("bar"))},[q("div",{class:$(t(a).be("bar","outer")),style:he({height:`${b.strokeWidth}px`})},[q("div",{class:$([t(a).be("bar","inner"),{[t(a).bem("bar","inner","indeterminate")]:b.indeterminate}]),style:he(t(l))},[(b.showText||b.$slots.default)&&b.textInside?(m(),T("div",{key:0,class:$(t(a).be("bar","innerText"))},[W(b.$slots,"default",{percentage:b.percentage},()=>[q("span",null,se(t(S)),1)])],2)):L("v-if",!0)],6)],6)],2)):(m(),T("div",{key:1,class:$(t(a).b("circle")),style:he({height:`${b.width}px`,width:`${b.width}px`})},[(m(),T("svg",ja,[q("path",{class:$(t(a).be("circle","track")),d:t(g),stroke:`var(${t(a).cssVarName("fill-color-light")}, #e5e9f2)`,"stroke-width":t(c),fill:"none",style:he(t(v))},null,14,Ga),q("path",{class:$(t(a).be("circle","path")),d:t(g),stroke:t(h),fill:"none",opacity:b.percentage?1:0,"stroke-linecap":b.strokeLinecap,"stroke-width":t(c),style:he(t(u))},null,14,Wa)]))],6)),(b.showText||b.$slots.default)&&!b.textInside?(m(),T("div",{key:2,class:$(t(a).e("text")),style:he({fontSize:`${t(N)}px`})},[W(b.$slots,"default",{percentage:b.percentage},()=>[b.status?(m(),U(t(le),{key:1},{default:F(()=>[(m(),U(Ls(t(d))))]),_:1})):(m(),T("span",xa,se(t(S)),1))])],6)):L("v-if",!0)],10,qa))}});var Ya=re(Za,[["__file","/home/runner/work/element-plus/element-plus/packages/components/progress/src/progress.vue"]]);const Ja=et(Ya),Wt=Symbol("uploadContextKey"),Qa="ElUpload";class en extends Error{constructor(s,n,a,l){super(s),this.name="UploadAjaxError",this.status=n,this.method=a,this.url=l}}function $t(e,s,n){let a;return n.response?a=`${n.response.error||n.response}`:n.responseText?a=`${n.responseText}`:a=`fail to ${s.method} ${e} ${n.status}`,new en(a,n.status,s.method,e)}function tn(e){const s=e.responseText||e.response;if(!s)return s;try{return JSON.parse(s)}catch{return s}}const sn=e=>{typeof XMLHttpRequest>"u"&&at(Qa,"XMLHttpRequest is undefined");const s=new XMLHttpRequest,n=e.action;s.upload&&s.upload.addEventListener("progress",c=>{const r=c;r.percent=c.total>0?c.loaded/c.total*100:0,e.onProgress(r)});const a=new FormData;if(e.data)for(const[c,r]of Object.entries(e.data))Array.isArray(r)?a.append(c,...r):a.append(c,r);a.append(e.filename,e.file,e.file.name),s.addEventListener("error",()=>{e.onError($t(n,e,s))}),s.addEventListener("load",()=>{if(s.status<200||s.status>=300)return e.onError($t(n,e,s));e.onSuccess(tn(s))}),s.open(e.method,n,!0),e.withCredentials&&"withCredentials"in s&&(s.withCredentials=!0);const l=e.headers||{};if(l instanceof Headers)l.forEach((c,r)=>s.setRequestHeader(r,c));else for(const[c,r]of Object.entries(l))Mt(r)||s.setRequestHeader(c,String(r));return s.send(a),s},xt=["text","picture","picture-card"];let an=1;const We=()=>Date.now()+an++,Xt=oe({action:{type:String,default:"#"},headers:{type:B(Object)},method:{type:String,default:"post"},data:{type:Object,default:()=>qe({})},multiple:{type:Boolean,default:!1},name:{type:String,default:"file"},drag:{type:Boolean,default:!1},withCredentials:Boolean,showFileList:{type:Boolean,default:!0},accept:{type:String,default:""},type:{type:String,default:"select"},fileList:{type:B(Array),default:()=>qe([])},autoUpload:{type:Boolean,default:!0},listType:{type:String,values:xt,default:"text"},httpRequest:{type:B(Function),default:sn},disabled:Boolean,limit:Number}),nn=oe({...Xt,beforeUpload:{type:B(Function),default:Z},beforeRemove:{type:B(Function)},onRemove:{type:B(Function),default:Z},onChange:{type:B(Function),default:Z},onPreview:{type:B(Function),default:Z},onSuccess:{type:B(Function),default:Z},onProgress:{type:B(Function),default:Z},onError:{type:B(Function),default:Z},onExceed:{type:B(Function),default:Z}}),ln=oe({files:{type:B(Array),default:()=>qe([])},disabled:{type:Boolean,default:!1},handlePreview:{type:B(Function),default:Z},listType:{type:String,values:xt,default:"text"}}),on={remove:e=>!!e},rn=["onKeydown"],un=["src"],dn=["onClick"],cn=["onClick"],pn=["onClick"],fn=j({name:"ElUploadList"}),vn=j({...fn,props:ln,emits:on,setup(e,{emit:s}){const{t:n}=tt(),a=J("upload"),l=J("icon"),c=J("list"),r=Pe(),g=M(!1),i=f=>{s("remove",f)};return(f,y)=>(m(),U(Is,{tag:"ul",class:$([t(a).b("list"),t(a).bm("list",f.listType),t(a).is("disabled",t(r))]),name:t(c).b()},{default:F(()=>[(m(!0),T(be,null,$e(f.files,v=>(m(),T("li",{key:v.uid||v.name,class:$([t(a).be("list","item"),t(a).is(v.status),{focusing:g.value}]),tabindex:"0",onKeydown:st(u=>!t(r)&&i(v),["delete"]),onFocus:y[0]||(y[0]=u=>g.value=!0),onBlur:y[1]||(y[1]=u=>g.value=!1),onClick:y[2]||(y[2]=u=>g.value=!1)},[W(f.$slots,"default",{file:v},()=>[f.listType==="picture"||v.status!=="uploading"&&f.listType==="picture-card"?(m(),T("img",{key:0,class:$(t(a).be("list","item-thumbnail")),src:v.url,alt:""},null,10,un)):L("v-if",!0),v.status==="uploading"||f.listType!=="picture-card"?(m(),T("div",{key:1,class:$(t(a).be("list","item-info"))},[q("a",{class:$(t(a).be("list","item-name")),onClick:ae(u=>f.handlePreview(v),["prevent"])},[G(t(le),{class:$(t(l).m("document"))},{default:F(()=>[G(t(Rs))]),_:1},8,["class"]),q("span",{class:$(t(a).be("list","item-file-name"))},se(v.name),3)],10,dn),v.status==="uploading"?(m(),U(t(Ja),{key:0,type:f.listType==="picture-card"?"circle":"line","stroke-width":f.listType==="picture-card"?6:2,percentage:Number(v.percentage),style:he(f.listType==="picture-card"?"":"margin-top: 0.5rem")},null,8,["type","stroke-width","percentage","style"])):L("v-if",!0)],2)):L("v-if",!0),q("label",{class:$(t(a).be("list","item-status-label"))},[f.listType==="text"?(m(),U(t(le),{key:0,class:$([t(l).m("upload-success"),t(l).m("circle-check")])},{default:F(()=>[G(t(Vt))]),_:1},8,["class"])):["picture-card","picture"].includes(f.listType)?(m(),U(t(le),{key:1,class:$([t(l).m("upload-success"),t(l).m("check")])},{default:F(()=>[G(t(De))]),_:1},8,["class"])):L("v-if",!0)],2),t(r)?L("v-if",!0):(m(),U(t(le),{key:2,class:$(t(l).m("close")),onClick:u=>i(v)},{default:F(()=>[G(t(Bt))]),_:2},1032,["class","onClick"])),L(" Due to close btn only appears when li gets focused disappears after li gets blurred, thus keyboard navigation can never reach close btn"),L(" This is a bug which needs to be fixed "),L(" TODO: Fix the incorrect navigation interaction "),t(r)?L("v-if",!0):(m(),T("i",{key:3,class:$(t(l).m("close-tip"))},se(t(n)("el.upload.deleteTip")),3)),f.listType==="picture-card"?(m(),T("span",{key:4,class:$(t(a).be("list","item-actions"))},[q("span",{class:$(t(a).be("list","item-preview")),onClick:u=>f.handlePreview(v)},[G(t(le),{class:$(t(l).m("zoom-in"))},{default:F(()=>[G(t(Fs))]),_:1},8,["class"])],10,cn),t(r)?L("v-if",!0):(m(),T("span",{key:0,class:$(t(a).be("list","item-delete")),onClick:u=>i(v)},[G(t(le),{class:$(t(l).m("delete"))},{default:F(()=>[G(t(Ds))]),_:1},8,["class"])],10,pn))],2)):L("v-if",!0)])],42,rn))),128)),W(f.$slots,"append")]),_:3},8,["class","name"]))}});var wt=re(vn,[["__file","/home/runner/work/element-plus/element-plus/packages/components/upload/src/upload-list.vue"]]);const hn=oe({disabled:{type:Boolean,default:!1}}),mn={file:e=>Vs(e)},gn=["onDrop","onDragover"],Zt="ElUploadDrag",bn=j({name:Zt}),yn=j({...bn,props:hn,emits:mn,setup(e,{emit:s}){const n=Fe(Wt);n||at(Zt,"usage: <el-upload><el-upload-dragger /></el-upload>");const a=J("upload"),l=M(!1),c=Pe(),r=i=>{if(c.value)return;l.value=!1,i.stopPropagation();const f=Array.from(i.dataTransfer.files),y=n.accept.value;if(!y){s("file",f);return}const v=f.filter(u=>{const{type:h,name:d}=u,N=d.includes(".")?`.${d.split(".").pop()}`:"",S=h.replace(/\/.*$/,"");return y.split(",").map(k=>k.trim()).filter(k=>k).some(k=>k.startsWith(".")?N===k:/\/\*$/.test(k)?S===k.replace(/\/\*$/,""):/^[^/]+\/[^/]+$/.test(k)?h===k:!1)});s("file",v)},g=()=>{c.value||(l.value=!0)};return(i,f)=>(m(),T("div",{class:$([t(a).b("dragger"),t(a).is("dragover",l.value)]),onDrop:ae(r,["prevent"]),onDragover:ae(g,["prevent"]),onDragleave:f[0]||(f[0]=ae(y=>l.value=!1,["prevent"]))},[W(i.$slots,"default")],42,gn))}});var kn=re(yn,[["__file","/home/runner/work/element-plus/element-plus/packages/components/upload/src/upload-dragger.vue"]]);const Cn=oe({...Xt,beforeUpload:{type:B(Function),default:Z},onRemove:{type:B(Function),default:Z},onStart:{type:B(Function),default:Z},onSuccess:{type:B(Function),default:Z},onProgress:{type:B(Function),default:Z},onError:{type:B(Function),default:Z},onExceed:{type:B(Function),default:Z}}),$n=["onKeydown"],wn=["name","multiple","accept"],En=j({name:"ElUploadContent",inheritAttrs:!1}),Sn=j({...En,props:Cn,setup(e,{expose:s}){const n=e,a=J("upload"),l=Pe(),c=je({}),r=je(),g=d=>{if(d.length===0)return;const{autoUpload:N,limit:S,fileList:k,multiple:D,onStart:b,onExceed:I}=n;if(S&&k.length+d.length>S){I(d,k);return}D||(d=d.slice(0,1));for(const H of d){const _=H;_.uid=We(),b(_),N&&i(_)}},i=async d=>{if(r.value.value="",!n.beforeUpload)return f(d);let N,S={};try{const D=n.beforeUpload(d);S=Bs(n.data)?nt(n.data):n.data,N=await D}catch{N=!1}if(N===!1){n.onRemove(d);return}let k=d;N instanceof Blob&&(N instanceof File?k=N:k=new File([N],d.name,{type:d.type})),f(Object.assign(k,{uid:d.uid}),S)},f=(d,N)=>{const{headers:S,data:k,method:D,withCredentials:b,name:I,action:H,onProgress:_,onSuccess:V,onError:x,httpRequest:pe}=n,{uid:ue}=d,de={headers:S||{},withCredentials:b,file:d,data:N??k,method:D,filename:I,action:H,onProgress:P=>{_(P,d)},onSuccess:P=>{V(P,d),delete c.value[ue]},onError:P=>{x(P,d),delete c.value[ue]}},w=pe(de);c.value[ue]=w,w instanceof Promise&&w.then(de.onSuccess,de.onError)},y=d=>{const N=d.target.files;N&&g(Array.from(N))},v=()=>{l.value||(r.value.value="",r.value.click())},u=()=>{v()};return s({abort:d=>{Ms(c.value).filter(d?([S])=>String(d.uid)===S:()=>!0).forEach(([S,k])=>{k instanceof XMLHttpRequest&&k.abort(),delete c.value[S]})},upload:i}),(d,N)=>(m(),T("div",{class:$([t(a).b(),t(a).m(d.listType),t(a).is("drag",d.drag)]),tabindex:"0",onClick:v,onKeydown:st(ae(u,["self"]),["enter","space"])},[d.drag?(m(),U(kn,{key:0,disabled:t(l),onFile:g},{default:F(()=>[W(d.$slots,"default")]),_:3},8,["disabled"])):W(d.$slots,"default",{key:1}),q("input",{ref_key:"inputRef",ref:r,class:$(t(a).e("input")),name:d.name,multiple:d.multiple,accept:d.accept,type:"file",onChange:y,onClick:N[0]||(N[0]=ae(()=>{},["stop"]))},null,42,wn)],42,$n))}});var Et=re(Sn,[["__file","/home/runner/work/element-plus/element-plus/packages/components/upload/src/upload-content.vue"]]);const St="ElUpload",Nn=e=>{var s;(s=e.url)!=null&&s.startsWith("blob:")&&URL.revokeObjectURL(e.url)},Pn=(e,s)=>{const n=Us(e,"fileList",void 0,{passive:!0}),a=u=>n.value.find(h=>h.uid===u.uid);function l(u){var h;(h=s.value)==null||h.abort(u)}function c(u=["ready","uploading","success","fail"]){n.value=n.value.filter(h=>!u.includes(h.status))}const r=(u,h)=>{const d=a(h);d&&(console.error(u),d.status="fail",n.value.splice(n.value.indexOf(d),1),e.onError(u,d,n.value),e.onChange(d,n.value))},g=(u,h)=>{const d=a(h);d&&(e.onProgress(u,d,n.value),d.status="uploading",d.percentage=Math.round(u.percent))},i=(u,h)=>{const d=a(h);d&&(d.status="success",d.response=u,e.onSuccess(u,d,n.value),e.onChange(d,n.value))},f=u=>{Mt(u.uid)&&(u.uid=We());const h={name:u.name,percentage:0,status:"ready",size:u.size,raw:u,uid:u.uid};if(e.listType==="picture-card"||e.listType==="picture")try{h.url=URL.createObjectURL(u)}catch(d){Qe(St,d.message),e.onError(d,h,n.value)}n.value=[...n.value,h],e.onChange(h,n.value)},y=async u=>{const h=u instanceof File?a(u):u;h||at(St,"file to be removed not found");const d=N=>{l(N);const S=n.value;S.splice(S.indexOf(N),1),e.onRemove(N,S),Nn(N)};e.beforeRemove?await e.beforeRemove(h,n.value)!==!1&&d(h):d(h)};function v(){n.value.filter(({status:u})=>u==="ready").forEach(({raw:u})=>{var h;return u&&((h=s.value)==null?void 0:h.upload(u))})}return ce(()=>e.listType,u=>{u!=="picture-card"&&u!=="picture"||(n.value=n.value.map(h=>{const{raw:d,url:N}=h;if(!N&&d)try{h.url=URL.createObjectURL(d)}catch(S){e.onError(S,h,n.value)}return h}))}),ce(n,u=>{for(const h of u)h.uid||(h.uid=We()),h.status||(h.status="success")},{immediate:!0,deep:!0}),{uploadFiles:n,abort:l,clearFiles:c,handleError:r,handleProgress:g,handleStart:f,handleSuccess:i,handleRemove:y,submit:v}},_n=j({name:"ElUpload"}),Tn=j({..._n,props:nn,setup(e,{expose:s}){const n=e,a=Os(),l=Pe(),c=je(),{abort:r,submit:g,clearFiles:i,uploadFiles:f,handleStart:y,handleError:v,handleRemove:u,handleSuccess:h,handleProgress:d}=Pn(n,c),N=E(()=>n.listType==="picture-card"),S=E(()=>({...n,fileList:f.value,onStart:y,onProgress:d,onSuccess:h,onError:v,onRemove:u}));return As(()=>{f.value.forEach(({url:k})=>{k!=null&&k.startsWith("blob:")&&URL.revokeObjectURL(k)})}),Je(Wt,{accept:zs(n,"accept")}),s({abort:r,submit:g,clearFiles:i,handleStart:y,handleRemove:u}),(k,D)=>(m(),T("div",null,[t(N)&&k.showFileList?(m(),U(wt,{key:0,disabled:t(l),"list-type":k.listType,files:t(f),"handle-preview":k.onPreview,onRemove:t(u)},vt({append:F(()=>[G(Et,ht({ref_key:"uploadRef",ref:c},t(S)),{default:F(()=>[t(a).trigger?W(k.$slots,"trigger",{key:0}):L("v-if",!0),!t(a).trigger&&t(a).default?W(k.$slots,"default",{key:1}):L("v-if",!0)]),_:3},16)]),_:2},[k.$slots.file?{name:"default",fn:F(({file:b})=>[W(k.$slots,"file",{file:b})])}:void 0]),1032,["disabled","list-type","files","handle-preview","onRemove"])):L("v-if",!0),!t(N)||t(N)&&!k.showFileList?(m(),U(Et,ht({key:1,ref_key:"uploadRef",ref:c},t(S)),{default:F(()=>[t(a).trigger?W(k.$slots,"trigger",{key:0}):L("v-if",!0),!t(a).trigger&&t(a).default?W(k.$slots,"default",{key:1}):L("v-if",!0)]),_:3},16)):L("v-if",!0),k.$slots.trigger?W(k.$slots,"default",{key:2}):L("v-if",!0),W(k.$slots,"tip"),!t(N)&&k.showFileList?(m(),U(wt,{key:3,disabled:t(l),"list-type":k.listType,files:t(f),"handle-preview":k.onPreview,onRemove:t(u)},vt({_:2},[k.$slots.file?{name:"default",fn:F(({file:b})=>[W(k.$slots,"file",{file:b})])}:void 0]),1032,["disabled","list-type","files","handle-preview","onRemove"])):L("v-if",!0)]))}});var Ln=re(Tn,[["__file","/home/runner/work/element-plus/element-plus/packages/components/upload/src/upload.vue"]]);const Un=et(Ln);const Yt="/cliservice/common",On=()=>Ut.defaults.baseURL+Yt+"/uploadImg",An=e=>Ut({url:Yt+"/uploadImg",method:"post",data:e});export{Mn as E,On as a,Un as b,yt as c,ha as d,Bn as e,An as u};
