import{t as ne}from"./base-d6d5ede7.js";import{E as Se}from"./el-popper-0ed80320.js";import{E as $,u as w,_ as ve,a as K,r as ie,h as Ae,b as fe,i as Q,c as ze,d as De,e as he,f as xe,g as pe,m as je,j as Le,k as We,w as Re,l as be,n as qe,o as Fe,p as Ve,q as ke}from"./_plugin-vue_export-helper-fce371f0.js";import{d as L,o as P,c as Ee,w as h,r as j,m as He,T as Ge,a as p,i as oe,b as S,e as Me,f as ee,p as me,g as _e,h as Te,j as y,k as F,l as Ue,v as Ze,F as ge,n as ye,q as Je,s as Ke,t as Qe,u as Xe,x as $e,y as V,z as B,A as le,B as q,C as Ye,D as g,E as X,G as et,H as tt,I as nt}from"./index-ab009072.js";import{t as te}from"./aria-06e80a3d.js";import{_ as ot}from"./index-54a07bfc.js";import{T as lt,u as at}from"./index-c508dcf5.js";import{f as st}from"./vnode-a64dafff.js";let ut=class{constructor(n,t){this.parent=n,this.domNode=t,this.subIndex=0,this.subIndex=0,this.init()}init(){this.subMenuItems=this.domNode.querySelectorAll("li"),this.addListeners()}gotoSubIndex(n){n===this.subMenuItems.length?n=0:n<0&&(n=this.subMenuItems.length-1),this.subMenuItems[n].focus(),this.subIndex=n}addListeners(){const n=this.parent.domNode;Array.prototype.forEach.call(this.subMenuItems,t=>{t.addEventListener("keydown",s=>{let u=!1;switch(s.code){case $.down:{this.gotoSubIndex(this.subIndex+1),u=!0;break}case $.up:{this.gotoSubIndex(this.subIndex-1),u=!0;break}case $.tab:{te(n,"mouseleave");break}case $.enter:case $.space:{u=!0,s.currentTarget.click();break}}return u&&(s.preventDefault(),s.stopPropagation()),!1})})}},rt=class{constructor(n,t){this.domNode=n,this.submenu=null,this.submenu=null,this.init(t)}init(n){this.domNode.setAttribute("tabindex","0");const t=this.domNode.querySelector(`.${n}-menu`);t&&(this.submenu=new ut(this,t)),this.addListeners()}addListeners(){this.domNode.addEventListener("keydown",n=>{let t=!1;switch(n.code){case $.down:{te(n.currentTarget,"mouseenter"),this.submenu&&this.submenu.gotoSubIndex(0),t=!0;break}case $.up:{te(n.currentTarget,"mouseenter"),this.submenu&&this.submenu.gotoSubIndex(this.submenu.subMenuItems.length-1),t=!0;break}case $.tab:{te(n.currentTarget,"mouseleave");break}case $.enter:case $.space:{t=!0,n.currentTarget.click();break}}t&&n.preventDefault()})}},it=class{constructor(n,t){this.domNode=n,this.init(t)}init(n){const t=this.domNode.childNodes;Array.from(t).forEach(s=>{s.nodeType===1&&new rt(s,n)})}};const ct=L({name:"ElMenuCollapseTransition",setup(){const e=w("menu");return{listeners:{onBeforeEnter:t=>t.style.opacity="0.2",onEnter(t,s){K(t,`${e.namespace.value}-opacity-transition`),t.style.opacity="1",s()},onAfterEnter(t){ie(t,`${e.namespace.value}-opacity-transition`),t.style.opacity=""},onBeforeLeave(t){t.dataset||(t.dataset={}),Ae(t,e.m("collapse"))?(ie(t,e.m("collapse")),t.dataset.oldOverflow=t.style.overflow,t.dataset.scrollWidth=t.clientWidth.toString(),K(t,e.m("collapse"))):(K(t,e.m("collapse")),t.dataset.oldOverflow=t.style.overflow,t.dataset.scrollWidth=t.clientWidth.toString(),ie(t,e.m("collapse"))),t.style.width=`${t.scrollWidth}px`,t.style.overflow="hidden"},onLeave(t){K(t,"horizontal-collapse-transition"),t.style.width=`${t.dataset.scrollWidth}px`}}}}});function dt(e,n,t,s,u,b){return P(),Ee(Ge,He({mode:"out-in"},e.listeners),{default:h(()=>[j(e.$slots,"default")]),_:3},16)}var pt=ve(ct,[["render",dt],["__file","/home/runner/work/element-plus/element-plus/packages/components/menu/src/menu-collapse-transition.vue"]]);function we(e,n){const t=p(()=>{let u=e.parent;const b=[n.value];for(;u.type.name!=="ElMenu";)u.props.index&&b.unshift(u.props.index),u=u.parent;return b});return{parentMenu:p(()=>{let u=e.parent;for(;u&&!["ElMenu","ElSubMenu"].includes(u.type.name);)u=u.parent;return u}),indexPath:t}}function mt(e){return p(()=>{const t=e.backgroundColor;return t?new lt(t).shade(20).toString():""})}const Ne=(e,n)=>{const t=w("menu");return p(()=>t.cssVarBlock({"text-color":e.textColor||"","hover-text-color":e.textColor||"","bg-color":e.backgroundColor||"","hover-bg-color":mt(e).value||"","active-color":e.activeTextColor||"",level:`${n}`}))},vt=fe({index:{type:String,required:!0},showTimeout:{type:Number,default:300},hideTimeout:{type:Number,default:300},popperClass:String,disabled:Boolean,popperAppendToBody:{type:Boolean,default:void 0},teleported:{type:Boolean,default:void 0},popperOffset:{type:Number,default:6},expandCloseIcon:{type:Q},expandOpenIcon:{type:Q},collapseCloseIcon:{type:Q},collapseOpenIcon:{type:Q}}),Y="ElSubMenu";var Ie=L({name:Y,props:vt,setup(e,{slots:n,expose:t}){at({from:"popper-append-to-body",replacement:"teleported",scope:Y,version:"2.3.0",ref:"https://element-plus.org/en-US/component/menu.html#submenu-attributes"},p(()=>e.popperAppendToBody!==void 0));const s=ye(),{indexPath:u,parentMenu:b}=we(s,p(()=>e.index)),c=w("menu"),M=w("sub-menu"),a=oe("rootMenu");a||ne(Y,"can not inject root menu");const m=oe(`subMenu:${b.value.uid}`);m||ne(Y,"can not inject sub menu");const v=S({}),I=S({});let x;const N=S(!1),ae=S(),J=S(null),A=p(()=>o.value==="horizontal"&&z.value?"bottom-start":"right-start"),W=p(()=>o.value==="horizontal"&&z.value||o.value==="vertical"&&!a.props.collapse?e.expandCloseIcon&&e.expandOpenIcon?k.value?e.expandOpenIcon:e.expandCloseIcon:ze:e.collapseCloseIcon&&e.collapseOpenIcon?k.value?e.collapseOpenIcon:e.collapseCloseIcon:De),z=p(()=>m.level===0),H=p(()=>{var i;const d=(i=e.teleported)!=null?i:e.popperAppendToBody;return d===void 0?z.value:d}),se=p(()=>a.props.collapse?`${c.namespace.value}-zoom-in-left`:`${c.namespace.value}-zoom-in-top`),ue=p(()=>o.value==="horizontal"&&z.value?["bottom-start","bottom-end","top-start","top-end","right-start","left-start"]:["right-start","left-start","bottom-start","bottom-end","top-start","top-end"]),k=p(()=>a.openedMenus.includes(e.index)),D=p(()=>{let i=!1;return Object.values(v.value).forEach(d=>{d.active&&(i=!0)}),Object.values(I.value).forEach(d=>{d.active&&(i=!0)}),i}),G=p(()=>a.props.backgroundColor||""),U=p(()=>a.props.activeTextColor||""),R=p(()=>a.props.textColor||""),o=p(()=>a.props.mode),l=Me({index:e.index,indexPath:u,active:D}),r=p(()=>o.value!=="horizontal"?{color:R.value}:{borderBottomColor:D.value?a.props.activeTextColor?U.value:"":"transparent",color:D.value?U.value:R.value}),C=()=>{var i,d,f;return(f=(d=(i=J.value)==null?void 0:i.popperRef)==null?void 0:d.popperInstanceRef)==null?void 0:f.destroy()},_=i=>{i||C()},E=()=>{a.props.menuTrigger==="hover"&&a.props.mode==="horizontal"||a.props.collapse&&a.props.mode==="vertical"||e.disabled||a.handleSubMenuClick({index:e.index,indexPath:u.value,active:D.value})},T=(i,d=e.showTimeout)=>{var f;i.type!=="focus"&&(a.props.menuTrigger==="click"&&a.props.mode==="horizontal"||!a.props.collapse&&a.props.mode==="vertical"||e.disabled||(m.mouseInChild.value=!0,x==null||x(),{stop:x}=xe(()=>{a.openMenu(e.index,u.value)},d),H.value&&((f=b.value.vnode.el)==null||f.dispatchEvent(new MouseEvent("mouseenter")))))},O=(i=!1)=>{var d,f;a.props.menuTrigger==="click"&&a.props.mode==="horizontal"||!a.props.collapse&&a.props.mode==="vertical"||(x==null||x(),m.mouseInChild.value=!1,{stop:x}=xe(()=>!N.value&&a.closeMenu(e.index,u.value),e.hideTimeout),H.value&&i&&((d=s.parent)==null?void 0:d.type.name)==="ElSubMenu"&&((f=m.handleMouseleave)==null||f.call(m,!0)))};ee(()=>a.props.collapse,i=>_(!!i));{const i=f=>{I.value[f.index]=f},d=f=>{delete I.value[f.index]};me(`subMenu:${s.uid}`,{addSubMenu:i,removeSubMenu:d,handleMouseleave:O,mouseInChild:N,level:m.level+1})}return t({opened:k}),_e(()=>{a.addSubMenu(l),m.addSubMenu(l)}),Te(()=>{m.removeSubMenu(l),a.removeSubMenu(l)}),()=>{var i;const d=[(i=n.title)==null?void 0:i.call(n),y(he,{class:M.e("icon-arrow"),style:{transform:k.value?e.expandCloseIcon&&e.expandOpenIcon||e.collapseCloseIcon&&e.collapseOpenIcon&&a.props.collapse?"none":"rotateZ(180deg)":"none"}},{default:()=>F(W.value)?y(s.appContext.components[W.value]):y(W.value)})],f=Ne(a.props,m.level+1),Be=a.isMenuPopup?y(Se,{ref:J,visible:k.value,effect:"light",pure:!0,offset:e.popperOffset,showArrow:!1,persistent:!0,popperClass:e.popperClass,placement:A.value,teleported:H.value,fallbackPlacements:ue.value,transition:se.value,gpuAcceleration:!1},{content:()=>{var Z;return y("div",{class:[c.m(o.value),c.m("popup-container"),e.popperClass],onMouseenter:re=>T(re,100),onMouseleave:()=>O(!0),onFocus:re=>T(re,100)},[y("ul",{class:[c.b(),c.m("popup"),c.m(`popup-${A.value}`)],style:f.value},[(Z=n.default)==null?void 0:Z.call(n)])])},default:()=>y("div",{class:M.e("title"),style:[r.value,{backgroundColor:G.value}],onClick:E},d)}):y(ge,{},[y("div",{class:M.e("title"),style:[r.value,{backgroundColor:G.value}],ref:ae,onClick:E},d),y(ot,{},{default:()=>{var Z;return Ue(y("ul",{role:"menu",class:[c.b(),c.m("inline")],style:f.value},[(Z=n.default)==null?void 0:Z.call(n)]),[[Ze,k.value]])}})]);return y("li",{class:[M.b(),M.is("active",D.value),M.is("opened",k.value),M.is("disabled",e.disabled)],role:"menuitem",ariaHaspopup:!0,ariaExpanded:k.value,onMouseenter:T,onMouseleave:()=>O(!0),onFocus:T},[Be])}}});const ft=fe({mode:{type:String,values:["horizontal","vertical"],default:"vertical"},defaultActive:{type:String,default:""},defaultOpeneds:{type:pe(Array),default:()=>je([])},uniqueOpened:Boolean,router:Boolean,menuTrigger:{type:String,values:["hover","click"],default:"hover"},collapse:Boolean,backgroundColor:String,textColor:String,activeTextColor:String,collapseTransition:{type:Boolean,default:!0},ellipsis:{type:Boolean,default:!0},popperEffect:{type:String,values:["dark","light"],default:"dark"}}),ce=e=>Array.isArray(e)&&e.every(n=>F(n)),ht={close:(e,n)=>F(e)&&ce(n),open:(e,n)=>F(e)&&ce(n),select:(e,n,t,s)=>F(e)&&ce(n)&&Ke(t)&&(s===void 0||s instanceof Promise)};var bt=L({name:"ElMenu",props:ft,emits:ht,setup(e,{emit:n,slots:t,expose:s}){const u=ye(),b=u.appContext.config.globalProperties.$router,c=S(),M=w("menu"),a=w("sub-menu"),m=S(-1),v=S(e.defaultOpeneds&&!e.collapse?e.defaultOpeneds.slice(0):[]),I=S(e.defaultActive),x=S({}),N=S({}),ae=p(()=>e.mode==="horizontal"||e.mode==="vertical"&&e.collapse),J=()=>{const o=I.value&&x.value[I.value];if(!o||e.mode==="horizontal"||e.collapse)return;o.indexPath.forEach(r=>{const C=N.value[r];C&&A(r,C.indexPath)})},A=(o,l)=>{v.value.includes(o)||(e.uniqueOpened&&(v.value=v.value.filter(r=>l.includes(r))),v.value.push(o),n("open",o,l))},W=o=>{const l=v.value.indexOf(o);l!==-1&&v.value.splice(l,1)},z=(o,l)=>{W(o),n("close",o,l)},H=({index:o,indexPath:l})=>{v.value.includes(o)?z(o,l):A(o,l)},se=o=>{(e.mode==="horizontal"||e.collapse)&&(v.value=[]);const{index:l,indexPath:r}=o;if(!(l===void 0||r===void 0))if(e.router&&b){const C=o.route||l,_=b.push(C).then(E=>(E||(I.value=l),E));n("select",l,r,{index:l,indexPath:r,route:C},_)}else I.value=l,n("select",l,r,{index:l,indexPath:r})},ue=o=>{const l=x.value,r=l[o]||I.value&&l[I.value]||l[e.defaultActive];r?I.value=r.index:I.value=o},k=()=>{var o,l;if(!c.value)return-1;const r=Array.from((l=(o=c.value)==null?void 0:o.childNodes)!=null?l:[]).filter(d=>d.nodeName!=="#text"||d.nodeValue),C=64,_=Number.parseInt(getComputedStyle(c.value).paddingLeft,10),E=Number.parseInt(getComputedStyle(c.value).paddingRight,10),T=c.value.clientWidth-_-E;let O=0,i=0;return r.forEach((d,f)=>{O+=d.offsetWidth||0,O<=T-C&&(i=f+1)}),i===r.length?-1:i},D=(o,l=33.34)=>{let r;return()=>{r&&clearTimeout(r),r=setTimeout(()=>{o()},l)}};let G=!0;const U=()=>{const o=()=>{m.value=-1,Qe(()=>{m.value=k()})};G?o():D(o)(),G=!1};ee(()=>e.defaultActive,o=>{x.value[o]||(I.value=""),ue(o)}),ee(()=>e.collapse,o=>{o&&(v.value=[])}),ee(x.value,J);let R;Je(()=>{e.mode==="horizontal"&&e.ellipsis?R=Le(c,U).stop:R==null||R()});{const o=_=>{N.value[_.index]=_},l=_=>{delete N.value[_.index]};me("rootMenu",Me({props:e,openedMenus:v,items:x,subMenus:N,activeIndex:I,isMenuPopup:ae,addMenuItem:_=>{x.value[_.index]=_},removeMenuItem:_=>{delete x.value[_.index]},addSubMenu:o,removeSubMenu:l,openMenu:A,closeMenu:z,handleMenuItemClick:se,handleSubMenuClick:H})),me(`subMenu:${u.uid}`,{addSubMenu:o,removeSubMenu:l,mouseInChild:S(!1),level:0})}return _e(()=>{e.mode==="horizontal"&&new it(u.vnode.el,M.namespace.value)}),s({open:l=>{const{indexPath:r}=N.value[l];r.forEach(C=>A(C,r))},close:W,handleResize:U}),()=>{var o,l;let r=(l=(o=t.default)==null?void 0:o.call(t))!=null?l:[];const C=[];if(e.mode==="horizontal"&&c.value){const T=st(r),O=m.value===-1?T:T.slice(0,m.value),i=m.value===-1?[]:T.slice(m.value);i!=null&&i.length&&e.ellipsis&&(r=O,C.push(y(Ie,{index:"sub-menu-more",class:a.e("hide-arrow")},{title:()=>y(he,{class:a.e("icon-more")},{default:()=>y(We)}),default:()=>i})))}const _=Ne(e,0),E=y("ul",{key:String(e.collapse),role:"menubar",ref:c,style:_.value,class:{[M.b()]:!0,[M.m(e.mode)]:!0,[M.m("collapse")]:e.collapse}},[...r,...C]);return e.collapseTransition&&e.mode==="vertical"?y(pt,()=>E):E}}});const Mt=fe({index:{type:pe([String,null]),default:null},route:{type:pe([String,Object])},disabled:Boolean}),_t={click:e=>F(e.index)&&Array.isArray(e.indexPath)},de="ElMenuItem",gt=L({name:de,components:{ElTooltip:Se},props:Mt,emits:_t,setup(e,{emit:n}){const t=ye(),s=oe("rootMenu"),u=w("menu"),b=w("menu-item");s||ne(de,"can not inject root menu");const{parentMenu:c,indexPath:M}=we(t,Xe(e,"index")),a=oe(`subMenu:${c.value.uid}`);a||ne(de,"can not inject sub menu");const m=p(()=>e.index===s.activeIndex),v=Me({index:e.index,indexPath:M,active:m}),I=()=>{e.disabled||(s.handleMenuItemClick({index:e.index,indexPath:M.value,route:e.route}),n("click",v))};return _e(()=>{a.addSubMenu(v),s.addMenuItem(v)}),Te(()=>{a.removeSubMenu(v),s.removeMenuItem(v)}),{parentMenu:c,rootMenu:s,active:m,nsMenu:u,nsMenuItem:b,handleClick:I}}});function yt(e,n,t,s,u,b){const c=$e("el-tooltip");return P(),V("li",{class:le([e.nsMenuItem.b(),e.nsMenuItem.is("active",e.active),e.nsMenuItem.is("disabled",e.disabled)]),role:"menuitem",tabindex:"-1",onClick:n[0]||(n[0]=(...M)=>e.handleClick&&e.handleClick(...M))},[e.parentMenu.type.name==="ElMenu"&&e.rootMenu.props.collapse&&e.$slots.title?(P(),Ee(c,{key:0,effect:e.rootMenu.props.popperEffect,placement:"right","fallback-placements":["left"],persistent:""},{content:h(()=>[j(e.$slots,"title")]),default:h(()=>[B("div",{class:le(e.nsMenu.be("tooltip","trigger"))},[j(e.$slots,"default")],2)]),_:3},8,["effect"])):(P(),V(ge,{key:1},[j(e.$slots,"default"),j(e.$slots,"title")],64))],2)}var Oe=ve(gt,[["render",yt],["__file","/home/runner/work/element-plus/element-plus/packages/components/menu/src/menu-item.vue"]]);const It={title:String},Ct="ElMenuItemGroup",xt=L({name:Ct,props:It,setup(){return{ns:w("menu-item-group")}}});function St(e,n,t,s,u,b){return P(),V("li",{class:le(e.ns.b())},[B("div",{class:le(e.ns.e("title"))},[e.$slots.title?j(e.$slots,"title",{key:1}):(P(),V(ge,{key:0},[q(Ye(e.title),1)],64))],2),B("ul",null,[j(e.$slots,"default")])],2)}var Pe=ve(xt,[["render",St],["__file","/home/runner/work/element-plus/element-plus/packages/components/menu/src/menu-item-group.vue"]]);const kt=Re(bt,{MenuItem:Oe,MenuItemGroup:Pe,SubMenu:Ie}),Et=be(Oe);be(Pe);const Tt=be(Ie);const Ce=e=>(tt("data-v-37767a32"),e=e(),nt(),e),$t={class:"div-1"},wt=Ce(()=>B("span",null,"用户管理",-1)),Nt=Ce(()=>B("span",null,"文章管理",-1)),Ot=Ce(()=>B("span",null,"类别管理",-1)),Pt=L({__name:"Menu",setup(e){return(n,t)=>{const s=he,u=Et,b=Tt,c=kt;return P(),V("div",$t,[g(c,{"default-active":X(et),class:"el-menu-vertical-demo",router:""},{default:h(()=>[g(b,{index:"1"},{title:h(()=>[g(s,null,{default:h(()=>[g(X(qe))]),_:1}),wt]),default:h(()=>[g(u,{index:"userlist"},{default:h(()=>[q("用户列表")]),_:1})]),_:1}),g(b,{index:"2"},{title:h(()=>[g(s,null,{default:h(()=>[g(X(Fe))]),_:1}),Nt]),default:h(()=>[g(u,{index:"articlelist"},{default:h(()=>[q("文章列表")]),_:1}),g(u,{index:"articlereview"},{default:h(()=>[q("文章审核")]),_:1})]),_:1}),g(b,{index:"3"},{title:h(()=>[g(s,null,{default:h(()=>[g(X(Ve))]),_:1}),Ot]),default:h(()=>[g(u,{index:"categorylist"},{default:h(()=>[q("类别列表")]),_:1}),g(u,{index:"categorytree"},{default:h(()=>[q("树型列表")]),_:1})]),_:1})]),_:1},8,["default-active"])])}}});const Bt=ke(Pt,[["__scopeId","data-v-37767a32"]]),At={class:"div-1"},zt=L({__name:"Home",setup(e){return(n,t)=>{const s=$e("router-view");return P(),V("div",At,[B("div",null,[g(Bt)]),B("div",null,[g(s)])])}}});const Zt=ke(zt,[["__scopeId","data-v-5d1eba58"]]);export{Zt as default};
