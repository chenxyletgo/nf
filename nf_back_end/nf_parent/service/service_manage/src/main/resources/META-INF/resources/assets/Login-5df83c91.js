import"./base-d6d5ede7.js";import{E as b,a as E,b as V,c as g}from"./el-form-item-e12a39b4.js";import{d as k,e as I,y as v,D as o,w as t,ap as x,o as y,B as m,H as B,I as C,z as L,aq as q,ar as D,as as N}from"./index-ab009072.js";import{l as S}from"./userapi-14365637.js";import{E as i}from"./base-79093b69.js";import{q as F}from"./_plugin-vue_export-helper-fce371f0.js";import"./use-form-item-39f90e30.js";import"./index-c508dcf5.js";const R=a=>(B("data-v-b5efe540"),a=a(),C(),a),U={class:"div-1"},z=R(()=>L("h1",null,"登录",-1)),H=k({__name:"Login",setup(a){const c=x(),e=I({email:"",password:""});function u(){if(!f()){i.error("输入的数据不合法");return}w()}function _(){e.email="",e.password=""}function f(){return!(!q(e.email)||e.password.trim()==="")}function w(){S(e).then(s=>{i.success(s.message),D.set("nf_token_",s.data.token,{domain:N}),c.push("/home")})}return(s,n)=>{const p=E,l=V,d=g,h=b;return y(),v("div",U,[z,o(h,{model:e,"status-icon":""},{default:t(()=>[o(l,{prop:"email"},{default:t(()=>[o(p,{modelValue:e.email,"onUpdate:modelValue":n[0]||(n[0]=r=>e.email=r),placeholder:"邮箱",clearable:""},null,8,["modelValue"])]),_:1}),o(l,{prop:"password"},{default:t(()=>[o(p,{modelValue:e.password,"onUpdate:modelValue":n[1]||(n[1]=r=>e.password=r),type:"password",placeholder:"密码","show-password":""},null,8,["modelValue"])]),_:1}),o(l,null,{default:t(()=>[o(d,{type:"primary",onClick:u},{default:t(()=>[m("登录")]),_:1}),o(d,{onClick:_},{default:t(()=>[m("清空")]),_:1})]),_:1})]),_:1},8,["model"])])}}});const O=F(H,[["__scopeId","data-v-b5efe540"]]);export{O as default};
